/*To auto-compile Stylus and auto-prefixer Nib, run stylus -u nib -w from parent folder*/
@import 'variables'

.featured-posts.page
  float left
  width 100%
  display inline-block
  margin-bottom 3em

  .primary, .secondary
    display inherit
    float left
    height 60vw
    max-height 900px
    position relative
    z-index 3
    width 50%

  .primary, .secondary ul li
    box-shadow $shadow-2

  .primary
    .event-link
      opacity 1 !important

  .secondary
    position relative
    z-index 2

    ul
      height 100%
      display inherit

      .feature
        width 100%
        height 50%

        &:nth-of-type(1)
          position relative
          z-index 2

        &:nth-of-type(2)
          position relative
          z-index 1

        .event-link
          position relative

          .thumb-date
            margin 0
            position absolute
            bottom 1em

  .feature
    overflow hidden
    background-color #fff
    display inherit
    box-sizing border-box
    float left
    display inherit

    &.has-image
      .event-link
        background-position right
        background-size cover

        h1, p
          color white
          text-shadow $shadow-2

      .buy-link
        background rgba(255,255,255,.9)

        &:hover
          background white
          color black

    &:hover
      .event-link
        opacity 1

    .event-link
      box-sizing border-box
      padding 1.3em
      display block
      height 100%
      width 100%
      opacity .8
      transition opacity $time ease-in-out

      &:hover
        opacity 1

      h1
        margin 0
        padding-right 25%
        font('black',4.8em,1em)

      p
        padding-right 25%
        font('bold', 2em, 1em)

        &.thumb-preview
          position absolute
          bottom 0

    .buy-link
      buy-link()
      position absolute
      bottom .9em
      right $padding

    .meta
      box-sizing border-box
      padding $padding $padding $padding 2*$padding
      width 100%
      float left

      p
        margin 0
        display block

        &.thumb-title
          font-weight bold
          float left
          width 70%

        $font-size = 1em
        $line-height = 1.4em
        $lines-to-show = 2

        &.thumb-preview
          display block
          display -webkit-box
          position absolute
          bottom 2em
          width 80%
          float left
          height $font-size*$line-height*$lines-to-show
          margin 0 auto
          font-size $font-size
          line-height $line-height
          -webkit-line-clamp $lines-to-show
          -webkit-box-orient vertical
          text-overflow ellipsis
          overflow hidden

        &.thumb-date
          width 30%
          float right
          color #888
          text-align right
